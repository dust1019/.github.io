<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>利用VPS搭建流量转发服务器</title>
    <url>/2023/04/04/%E5%88%A9%E7%94%A8VPS%E6%90%AD%E5%BB%BA%E6%B5%81%E9%87%8F%E8%BD%AC%E5%8F%91%E6%9C%8D%E5%8A%A1%E5%99%A8/</url>
    <content><![CDATA[<blockquote>
<h2 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h2><ol>
<li>域名</li>
<li>VPS (位于海外)</li>
<li>注册Cloudfare账号</li>
</ol>
</blockquote>
<h2 id="1-域名购买申请"><a href="#1-域名购买申请" class="headerlink" title="1. 域名购买申请"></a>1. 域名购买申请</h2><p>可以通过<a class="link"   href="https://www.namesilo.com/" >Namesilo <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>等类似的平台去购买.</p>
<p>购买完成之后,将域名解析到Cloudfare, 并添加A记录</p>
<h2 id="2-购买部署VPS"><a href="#2-购买部署VPS" class="headerlink" title="2.购买部署VPS"></a>2.购买部署VPS</h2><div class="note-large notel-default"><div class="notel-title"><p>Tip</p>
</div><div class="notel-content"><p>VPS的选购尽量避免国人客户过多的服务商, IP极易被墙; 例如:hostwind, vultr等都被用烂了</p>
<p>一般VPS服务商都会有 供测试的IP, 可以在 <a class="link"   href="https://ping.pe/" >ping.pe <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a> 测试一下</p>
<p>只做流量转发的话VPS的配置不需要很高, 最低配置即可.</p>
 </div></div>


<h3 id="2-1-配置VPS"><a href="#2-1-配置VPS" class="headerlink" title="2.1 配置VPS"></a>2.1 配置VPS</h3><blockquote>
<p>本文以centos7为例</p>
</blockquote>
<p>通过SSH连接VPS之后,复制下方命令 更新组件</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">yum update -y &amp;&amp; yum update -y &amp;&amp; yum install -y socat</span><br></pre></td></tr></table></figure></div>
<p>安装X-UI面板</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">bash &lt;(curl -Ls https://raw.githubusercontent.com/vaxilu/x-ui/master/install.sh)</span><br></pre></td></tr></table></figure></div>
<p>安装过程会提示创建账号,密码及端口, 按提示操作即可</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/../img/xui_ins.png"
                      alt="1"
                ></p>
<h3 id="2-2-登录x-ui"><a href="#2-2-登录x-ui" class="headerlink" title="2.2 登录x-ui"></a>2.2 登录x-ui</h3><p>安装完成之后登录面板 在浏览器输入(VPS的IP:端口)(例如:<kbd>252.16.12.15:1019</kbd>)<br><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/../img/xui-login.png"
                      alt="2"
                ></p>
<p>输入刚刚设置的账号与密码登录,就会看到如下界面<br><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/../img/xui-panel.png"
                      alt="3"
                ></p>
<h3 id="2-3-申请SSL证书"><a href="#2-3-申请SSL证书" class="headerlink" title="2.3 申请SSL证书"></a>2.3 申请SSL证书</h3><blockquote>
<p>此步骤需要你的</p>
<ul>
<li>Cloudfare账号和Global Key(可在Cloudfare的DNS页面找到)</li>
</ul>
</blockquote>
<p>控制台输入<kbd>x-ui</kbd><br><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/../img/xui-list.png"
                      alt="4"
                ><br>输入<kbd>16.运行一键申请SSL证书</kbd>按照提示操作即可.</p>
<p>自动安装完成之后你会得到两个文件</p>
<p><kbd>xxxx.cer</kbd><br><kbd>xxxx.key</kbd> </p>
<p>并存放在<code>/root/cert</code>(可能会略有不同,可在控制台的输出结果,查看证书安放位置)</p>
<p>选择面板设置,将得到的公钥和key的存放地址放入下图的红框位置<br><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/../img/xui-ssl.png"
                      alt="5"
                ></p>
<p>保存配置, 重启面板</p>
<h3 id="2-3-添加入站协议"><a href="#2-3-添加入站协议" class="headerlink" title="2.3 添加入站协议"></a>2.3 添加入站协议</h3><blockquote>
<p>这一步需要你的域名在Cloudfare解析完毕. 可通过CMD的ping测试</p>
<pre><code>ping xxx.dxxxdxxx.top 
#如果ping的结果包含你的VPS IP地址, 即代表解析成功```
</code></pre>
</blockquote>
<p>点击<kbd>入站列表</kbd>的<kbd><strong>+</strong></kbd>号. 添加入站协议,<br>我这里选择的协议是<kbd>Vless+ws+tls</kbd>如下图, 可根据情况进行调整</p>
<p>这里公钥和密钥的路径,同上一步的路径一直<br><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/../img/xui-add.png"
                      alt="6"
                ></p>
<p>点击, 添加, 并启用.</p>
<p>到这里一个基于<kbd>Vless+ws+tls</kbd>的节点创建完成, 你可以通过二维码或者在详细信息里复制链接<br>将节点添加至你的小飞机, openclash, v2ray等等支持vless协议的软件里</p>
<div class="note-large notel-default"><div class="notel-title"><p>Tip</p>
</div><div class="notel-content"><p>若发现节点不可用, 请先检查VPS的防火墙是否放行节点的端口</p>
 </div></div>]]></content>
      <categories>
        <category>技术</category>
      </categories>
      <tags>
        <tag>VPS</tag>
      </tags>
  </entry>
  <entry>
    <title>git如何生成新的SSH公钥</title>
    <url>/2023/04/05/GIT%E5%A6%82%E4%BD%95%E7%94%9F%E6%88%90%E6%96%B0%E7%9A%84SSH%E5%AF%86%E9%92%A5/</url>
    <content><![CDATA[<h2 id="1-在Windows-PowerShell输入以下命令"><a href="#1-在Windows-PowerShell输入以下命令" class="headerlink" title="1. 在Windows PowerShell输入以下命令"></a>1. 在Windows PowerShell输入以下命令</h2><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 配置用户名</span><br><span class="line">git config --global user.name &quot;dust&quot;</span><br><span class="line"># 配置邮箱</span><br><span class="line">git config --global user.email &quot;email@gmail.com&quot;</span><br></pre></td></tr></table></figure></div>
<p>以上命令执行结束后，可用 <code>git config --global --list</code> 命令查看配置是否成功</p>
<h2 id="2-生成公钥"><a href="#2-生成公钥" class="headerlink" title="2. 生成公钥"></a>2. 生成公钥</h2><p>然后接着输入</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">ssh-keygen -t rsa -C &#x27;email@gmail.com&#x27;</span><br></pre></td></tr></table></figure></div>
<p>过程可以直接按 ENTER 一切默认即可</p>
<h2 id="3-git查看ssh公钥的方法"><a href="#3-git查看ssh公钥的方法" class="headerlink" title="3. git查看ssh公钥的方法"></a>3. git查看ssh公钥的方法</h2><p>通过git bash命令窗口<br><code>cat ~/.ssh/id_rsa.pub</code></p>
<p>或者在 <code>C:\Users\用户名\.ssh</code>文件夹下, 用记事本打开<code>id_rsa.pub</code></p>
]]></content>
      <categories>
        <category>技术</category>
      </categories>
      <tags>
        <tag>Git</tag>
      </tags>
  </entry>
</search>
